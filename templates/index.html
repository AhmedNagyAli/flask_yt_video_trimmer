<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <title>YT Video Trimmer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes blink {
      0%, 100% { border-color: transparent; }
      50% { border-color: black; }
    }
    .typewriter {
      border-right: 2px solid black;
      white-space: nowrap;
      overflow: hidden;
      animation: blink 0.75s step-end infinite;
    }
  </style>
</head>
<body class="bg-gray-100 flex flex-col items-center justify-center min-h-screen px-4 py-8">

  <!-- Description Typing Header -->
  <div class="max-w-xl w-full text-center mb-6">
    <p id="descEN" class="text-gray-900 font-semibold text-lg h-6"></p>
    <p id="descAR" class="text-gray-900 font-semibold text-lg h-6" dir="rtl"></p>
  </div>

  <!-- Form -->
  <div class="bg-white p-4 sm:p-6 rounded shadow-md w-full max-w-sm z-10">
    <h1 class="text-lg sm:text-xl font-bold mb-4 text-center">ğŸ¥ YT Video Trimmer</h1>

    <form method="POST" id="downloadForm" class="space-y-4">
      <input
        type="text"
        name="youtube_url"
        placeholder="Enter YouTube URL"
        class="w-full p-2 border border-gray-300 rounded"
        required
      />
      <button
        type="submit"
        id="submitBtn"
        class="w-full bg-indigo-700 text-white p-2 rounded hover:bg-indigo-800 flex justify-center items-center"
      >
        <span id="buttonText">Get Resolutions</span>
        <svg
          id="spinner"
          class="hidden w-5 h-5 ml-2 text-white animate-spin"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
        >
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"/>
        </svg>
      </button>
    </form>
  </div>

  <!-- Bilingual lines below form -->
  <div class="max-w-xl w-full mt-6 text-center space-y-1">
    <p id="lineEN1" class="text-gray-900 font-semibold text-base h-6"></p>
    <p id="lineAR1" class="text-gray-900 font-semibold text-base h-6" dir="rtl"></p>
    <p id="lineEN2" class="text-gray-900 font-semibold text-base h-6"></p>
    <p id="lineAR2" class="text-gray-900 font-semibold text-base h-6" dir="rtl"></p>
    <p id="lineEN3" class="text-gray-900 font-semibold text-base h-6"></p>
    <p id="lineAR3" class="text-gray-900 font-semibold text-base h-6" dir="rtl"></p>
    <p id="lineEN4" class="text-gray-900 font-semibold text-base h-6"></p>
    <p id="lineAR4" class="text-gray-900 font-semibold text-base h-6" dir="rtl"></p>
  </div>

  <!-- Modal -->
  <div id="loadingModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center hidden z-50 px-4">
    <div class="bg-white px-6 py-6 sm:px-10 sm:py-8 rounded-2xl flex flex-col items-center space-y-4 w-full max-w-sm shadow-2xl">
      <svg class="w-12 h-12 sm:w-16 sm:h-16 text-indigo-600 animate-spin" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"/>
      </svg>
      <p id="typewriterText" class="text-lg sm:text-xl font-semibold text-gray-800 typewriter w-full text-center h-8"></p>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    const descEN = "This tool trims YouTube videos and lets you pick resolution easily.";
    const descAR = "Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© ØªÙ‚ÙˆÙ… Ø¨Ù‚Øµ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ÙŠÙˆØªÙŠÙˆØ¨ ÙˆØªØ³Ù…Ø­ Ø¨Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¬ÙˆØ¯Ø© Ø¨Ø³Ù‡ÙˆÙ„Ø©.";

    const linesEN = [
      "Since it is a free hosting,",
      "it only works on small videos and still has problems,",
      "and may crash many times till you can get your video...",
      "sorry for that and we hope you wait for the final version."
    ];

    const linesAR = [
      "Ù†Ø¸Ø±Ù‹Ø§ Ù„Ø£Ù†Ù‡Ø§ Ø§Ø³ØªØ¶Ø§ÙØ© Ù…Ø¬Ø§Ù†ÙŠØ©ØŒ",
      "ÙØ¥Ù†Ù‡ ÙŠØ¹Ù…Ù„ ÙÙ‚Ø· Ø¹Ù„Ù‰ Ù…Ù‚Ø§Ø·Ø¹ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„ØµØºÙŠØ±Ø© ÙˆÙ„Ø§ ÙŠØ²Ø§Ù„ Ø¨Ù‡ Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„",
      "ÙˆÙ‚Ø¯ ÙŠØªØ¹Ø·Ù„ Ø¹Ø¯Ø© Ù…Ø±Ø§Øª Ø­ØªÙ‰ ØªØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ...",
      "Ù†Ø£Ø³Ù Ù„Ø°Ù„Ùƒ ÙˆÙ†Ø£Ù…Ù„ Ø£Ù† ØªÙ†ØªØ¸Ø± Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ."
    ];

    async function typeLine(el, text) {
      for (let i = 0; i <= text.length; i++) {
        el.textContent = text.substring(0, i);
        await new Promise(res => setTimeout(res, 40));
      }
    }

    async function clearLine(el) {
      const text = el.textContent;
      for (let i = text.length; i >= 0; i--) {
        el.textContent = text.substring(0, i);
        await new Promise(res => setTimeout(res, 30));
      }
    }

    async function loopLines() {
      const elemsEN = linesEN.map((_, i) => document.getElementById(`lineEN${i + 1}`));
      const elemsAR = linesAR.map((_, i) => document.getElementById(`lineAR${i + 1}`));
      while (true) {
        for (let i = 0; i < linesEN.length; i++) {
          await Promise.all([
            typeLine(elemsEN[i], linesEN[i]),
            typeLine(elemsAR[i], linesAR[i])
          ]);
          await new Promise(res => setTimeout(res, 1000));
          await Promise.all([
            clearLine(elemsEN[i]),
            clearLine(elemsAR[i])
          ]);
          await new Promise(res => setTimeout(res, 500));
        }
      }
    }

    function loopTypewriterModalText() {
      const el = document.getElementById('typewriterText');
      const text = "Processing the video resolutions...";
      let i = 0, isDel = false;

      function tick() {
        if (!isDel) {
          el.textContent = text.substring(0, i++);
          if (i > text.length) {
            isDel = true;
            setTimeout(tick, 500);
            return;
          }
        } else {
          el.textContent = text.substring(0, i--);
          if (i < 0) {
            isDel = false;
          }
        }
        setTimeout(tick, 60);
      }
      tick();
    }

    document.getElementById('downloadForm').addEventListener('submit', function () {
      document.getElementById('submitBtn').disabled = true;
      document.getElementById('buttonText').textContent = 'Processing...';
      document.getElementById('spinner').classList.remove('hidden');
      document.getElementById('loadingModal').classList.remove('hidden');
      loopTypewriterModalText();
    });

    window.addEventListener('load', () => {
      typeLine(document.getElementById('descEN'), descEN);
      typeLine(document.getElementById('descAR'), descAR);
      loopLines();
    });
  </script>
</body>
</html>
